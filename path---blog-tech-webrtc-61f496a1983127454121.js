webpackJsonp([0x890603a0cda8],{606:function(e,t){e.exports={data:{markdownRemark:{htmlAst:{type:"root",children:[{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"WebRTC 프로토콜을 알게 된건 와이프님의 “실시간 요리 방송 서비스를 만들어줘” 에서 출발했다."}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"처음엔 가볍게 Socket.io 에 node.js 붙이고 스마트폰 디바이스에서 동영상 압축해서 서버로 보낼 생각이였다."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"하지만 나의 기대와는 다르게 3 초 이상씩 동영상이 딜레이 되었다."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"몇달 후, WebRTC 를 알게 되었고, 미디어 서버 없이 1:1 은 큰 문제 없이 구현 되었다. (딜레이 1 초 미만)"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"WebRTC 를 사용하면서 STUN 과 TURN 에 대해 구별하고 이해하고 구현 할 수 있게 되었다."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"다시 시작된 와이프의 요청 사항 “여러명이서 동시에 할 수는 없나?”"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"다시 시작된 digging 중 SFU 와 MCU 에 대해 알게 되었고, 미디어 서버에 관한 힌트를 얻을 수 있었다."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"h1",properties:{},children:[{type:"text",value:"최종 구현은 아래와 같다."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"iOS , Android , Web 에서 모두 동작하는 실시간 쌍방향 비디오 패킷을,"},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\nudp 방식으로 쏘고 코덱은 가변적인 vp9 스마트폰은 어쩔 수 없이 h.264 를 쓰도록 구현했다."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"프로토콜은 WebRTC. (당연하지만)"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"미디어 서버는 홍콩이나 싱가폴 어딘가에 있을 Azure Cloud Server 에, Docker 로 scalability 하게 구현했다."},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n모든 부하는 미디어 서버가 담당하고, 클라이언트는 그저 자신의 미디어만 미디어서버로 전송한다."},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n모바일 기기의 부족한 전송 대역과 인코딩 디코딩 부하를 서버로 보내고 나서야 여러명이서,"},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n비디오 채팅이 가능하게 되었다."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"현재 미디어 서버는 모든 패킷을 녹화하고 저장한다."},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n각 room 은 쌍방향은 100 명이상,"},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n단순 미디어 스트리밍은 10000 명 이상이지만 이론상 무한대이다."},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n(마치 무한한 지랫대가 있다면 달도 들 수 있다와 유사한 발언이다.)"},{type:"element",tagName:"br",properties:{},children:[]},{type:"text",value:"\n처리하도록 설계되었다."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"img",properties:{src:"https://cdn-images-1.medium.com/max/2000/0*4g6Llce0nTIHqntx.png"},children:[]}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{style:"padding:56.11% 0 0 0;position:relative;"},children:[{type:"element",tagName:"iframe",properties:{src:"https://player.vimeo.com/video/245723905",style:"position:absolute;top:0;left:0;width:100%;height:100%;",frameBorder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowFullScreen:!0},children:[]}]},{type:"element",tagName:"script",properties:{src:"https://player.vimeo.com/api/player.js"},children:[]}],data:{quirksMode:!1}},frontmatter:{title:"WebRTC + SFU + React Native get hands dirty!",date:"2018-07-10T17:12:33.962Z"}}},pathContext:{slug:"/blog/tech/webrtc/"}}}});
//# sourceMappingURL=path---blog-tech-webrtc-61f496a1983127454121.js.map